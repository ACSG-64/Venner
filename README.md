# Reports provider component - _Part of Reports Microservice_ - Venner
This component provides the existing components and provides them to users depending on which ones they have access to.

## Tasks
* Adds documents to the database by referencing the location and metadata of PDF reports.
* Add or delete users to the documents containing the reports to grant access to them
* It deletes documents when they are more than 45 days old since they were created and instructs the server that manages the reports to delete them accordingly. 
* Every 12 hours it checks if there is an expired report, if so, it posts a message in a RabbitMQ queue instructing the server containing the reports to delete them, and at the same time deletes the associated document from the database.

## Communication
* It receives orders via HTTP requests from the client.
* When it does not have a report, it posts a message to a RabbitMQ queue to be generated by the report generator component. In the meantime it creates a document in the database containing the report metadata and authorized users.
* When the report is generated, from a RabbitMQ queue it reads the path where the report was saved and updates the information in the corresponding document in the database.
* If there is an expired report, it posts a message in a RabbitMQ queue instructing the server containing the reports to delete them, and at the same time deletes the associated document from the database.

## Technologies
* Node.js.
  * Express.
* Mongo DB (Atlas).
* RabbitMQ.
